function lz(a){this.fn=[],this.i=0,this.len=a.length,this.list=a;if(!(this instanceof lz))return new lz(a)}var UNDEFINED={};lz.prototype.valueOf=function(){return this._value?this._value:this._value=this.all()},lz.prototype.next=function(){var a=this.list[this.i++];if(this.i>this.len)return UNDEFINED;for(var b=0;b<this.fn.length;b+=1)a=this.fn[b](a);return a},lz.prototype.filter=function(a){var b=this;return this.fn.push(function(c){return a(c)===!0?c:b.next()}),this},lz.prototype.map=function(a){return this.fn.push(function(b){return a(b)}),this},lz.prototype.head=function(){var a;return(a=this.next())===UNDEFINED?null:a},lz.prototype.take=function(a){var b=[],c;while(a>0){c=this.next();if(c===UNDEFINED)break;b.push(c),a-=1}return b},lz.prototype.all=function(){return this.take(this.len)},lz.range=function(a,b){var c=new lz([]);return c.len=b,c._next=c.next,c.next=function(){return this.list.push(this.i+a),c._next()},c},lz.cycle=function(a){var b=new lz(a);return b._next=b.next,b.next=function(){return this.i===this.len&&(this.i=0),this._next()},b},lz.zipWith=function(a,b,c){var d=new lz([]);return b instanceof lz||c instanceof lz?(b instanceof lz||(b=lz(b)),c instanceof lz||(c=lz(c)),d.len=b.len>c.len?b.len:c.len,d._next=d.next,d.next=function(){return this.list.push(a(b.next(),c.next())),this._next()},d):(d.next=function(){return a(b[this.i],c[this.i++])},d)},module.exports=lz